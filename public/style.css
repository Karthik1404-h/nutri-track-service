/* ðŸŽ¨ style.css */
:root {
    --primary-color: #0ea5e9; /* Sky Blue */
    --secondary-color: #10b981; /* Emerald Green */
    --accent-color: #f97316; /* Orange */
    --background-start: #f0f9ff;
    --background-end: #e0f2fe;
    --card-background: #ffffff;
    --text-color: #0f172a; /* Slate 900 */
    --subtle-text-color: #64748b; /* Slate 500 */
    --border-color: #e2e8f0; /* Slate 200 */
    --shadow-color: rgba(71, 85, 105, 0.07);
    --shadow-hover-color: rgba(71, 85, 105, 0.15);
    --font-family: 'Poppins', sans-serif;
    --danger-color: #ef4444; /* Red 500 */
}

/* --- Base & Typography --- */
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
    font-family: var(--font-family);
    background-image: linear-gradient(135deg, var(--background-start), var(--background-end));
    color: var(--text-color);
    line-height: 1.6;
}

.container { width: 90%; max-width: 900px; margin: 0 auto; }

h1, h2, h3 { line-height: 1.2; font-weight: 700; }
h2 { font-size: 2rem; margin-bottom: 2rem; text-align: center; }

/* --- Icons --- */
i.lucide {
    width: 20px;
    height: 20px;
    stroke-width: 2.5px;
}

/* --- Buttons --- */
.btn { 
    display: inline-flex; 
    align-items: center;
    gap: 8px;
    padding: 10px 24px; 
    border-radius: 50px; 
    text-decoration: none; 
    font-weight: 600; 
    border: 1px solid transparent; 
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); 
}
.btn-primary { background-color: var(--primary-color); color: white; }
.btn-secondary { background-color: var(--card-background); color: var(--primary-color); border-color: var(--primary-color); }
.btn:hover { transform: translateY(-3px); box-shadow: 0 4px 12px var(--shadow-hover-color); }

/* --- Navbar --- */
.navbar { 
    background-color: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(10px);
    padding: 1rem 0; 
    border-bottom: 1px solid var(--border-color); 
    position: sticky; 
    top: 0; 
    z-index: 100; 
}
.navbar .container { display: flex; justify-content: space-between; align-items: center; }
.logo { display: flex; align-items: center; gap: 0.75rem; text-decoration: none; color: var(--text-color); }
.logo i { color: var(--primary-color); }
.logo h1 { font-size: 1.5rem; }
.nav-links { display: flex; align-items: center; gap: 1rem; }
.dark-mode-toggle { background: none; border: none; cursor: pointer; color: var(--subtle-text-color); padding: 0.5rem; border-radius: 50%; transition: all 0.2s; }
.dark-mode-toggle:hover { background-color: var(--border-color); color: var(--primary-color); }

/* --- Summary / Progress Section --- */
.summary-section { padding: 4rem 0; text-align: center; }
.progress-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 2.5rem; justify-items: center; margin-bottom: 2rem; }
.progress-card { position: relative; display: flex; flex-direction: column; align-items: center; }
.progress-ring { transform: rotate(-90deg); width: 140px; height: 140px; }
.progress-ring-bg { fill: none; stroke: var(--border-color); stroke-width: 12; }
.progress-ring-circle { fill: none; stroke-width: 12; stroke-linecap: round; transition: stroke-dashoffset 0.8s cubic-bezier(0.65, 0, 0.35, 1); stroke-dasharray: 339.292; stroke-dashoffset: 339.292; }
.progress-ring-circle.calories { stroke: var(--primary-color); }
.progress-ring-circle.protein { stroke: var(--secondary-color); }
.progress-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; }
.progress-text .value { font-size: 1.75rem; font-weight: 700; color: var(--text-color); }
.progress-text .label { font-size: 0.9rem; color: var(--subtle-text-color); }

/* --- Meal Logging Section (UPDATED) --- */
.meal-logging-section { padding: 0 0 4rem 0; }
.meal-accordion { display: grid; gap: 1.5rem; }
.meal-card { 
    background-color: var(--card-background); 
    border-radius: 16px; 
    border: 1px solid var(--border-color); 
    box-shadow: 0 4px 6px var(--shadow-color); 
    transition: all 0.3s; 
    overflow: hidden;
}
.meal-card-header { 
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem;
    cursor: pointer;
    font-size: 1.25rem;
    font-weight: 600;
    transition: background-color 0.2s;
    gap: 8px;
}
.meal-card-header:hover {
    background-color: var(--background-start);
}
/* ðŸŽ¨ style.css (add this new code) */

.meal-header-actions {
    display: flex;
    align-items: center;
    gap: 16px; /* Adjust spacing as needed */
}

.meal-delete-btn {
    background: none;
    border: none;
    color: var(--subtle-text-color);
    cursor: pointer;
    padding: 6px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s, color 0.2s;
}

.meal-delete-btn:hover {
    background-color: #fee2e2; /* Light red background on hover */
    color: var(--danger-color);
}
.meal-title {
    display: flex;
    align-items: center;
    gap: 12px;
}
.meal-title i {
    color: var(--accent-color);
}
.meal-card-calories { font-size: 1rem; font-weight: 500; color: var(--subtle-text-color); }
/* Logged items are now always visible */
.meal-card-body { 
    padding: 0 1.5rem 1.5rem;
    border-top: 1px solid var(--border-color);
}
/* .meal-delete-btn {
    background: none;
    border: none;
    color: var(--danger-color);
    cursor: pointer;
    padding: 6px;
    border-radius: 50%;
    transition: background 0.2s, color 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
}
.meal-delete-btn:hover {
    background: #fee2e2;
    color: #b91c1c;
}
.meal-delete-btn i {
    width: 22px;
    height: 22px;
    stroke-width: 2.5px;
} */
/* ðŸŽ¨ style.css (add this new code) */

/* ðŸŽ¨ style.css (replace the old .meal-item-delete styles) */

/* ðŸŽ¨ style.css (replace the old .meal-item-delete styles) */

.meal-item-delete {
    background-color: var(--danger-color);
    color: white;
    border: none;
    border-radius: 50%; /* Makes it a circle */
    width: 24px;
    height: 24px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 1.4rem; /* Makes the 'x' symbol larger */
    line-height: 1;
    cursor: pointer;
    margin-left: 12px;
    transition: background-color 0.2s;
}

.meal-item-delete:hover {
    background-color: #dc2626; /* A slightly darker red */
}
/* --- Input Area in Modal (NEW) --- */
.input-container { 
    background-color: transparent; 
    border-radius: 12px; 
    margin-top: 16px;
}
.hidden { display: none !important; }
.button-group { display: flex; gap: 12px; }
input[type="file"] { display: none; }
.custom-file-upload, .camera-btn { 
    flex: 1; 
    display: inline-flex; 
    align-items: center; 
    justify-content: center; 
    gap: 8px; 
    padding: 12px 16px; 
    border-radius: 8px;
    border: 1px solid var(--border-color); 
    background-color: var(--card-background); 
    font-size: 1rem; 
    font-weight: 500; 
    color: var(--text-color); 
    cursor: pointer; 
    transition: background-color 0.2s, box-shadow 0.2s; 
}
.custom-file-upload:hover, .camera-btn:hover { background-color: #f1f5f9; }

/* Result Display (REDESIGNED) */
.result-display { margin-top: 24px; display: flex; flex-direction: column; gap: 16px; }
.food-card { 
    position: relative; 
    background-color: var(--card-background); 
    border: 1px solid var(--border-color); 
    border-radius: 12px; 
    padding: 20px;
    box-shadow: 0 4px 6px var(--shadow-color);
    opacity: 0;
    transform: translateY(20px);
    animation: fadeIn 0.5s forwards;
}
@keyframes fadeIn {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.food-card-remove-btn { 
    position: absolute; 
    top: 8px; right: 8px; 
    background: none; 
    border: none; 
    font-size: 1.5rem; 
    color: var(--subtle-text-color); 
    cursor: pointer;
    line-height: 1;
}
.food-title { 
    font-size: 1.25rem; 
    font-weight: 600; 
    text-align: center; 
    margin-bottom: 16px; 
    text-transform: capitalize; 
}
.macros { 
    display: grid; 
    grid-template-columns: 1fr 1fr; 
    gap: 12px; 
}
.macro-item { 
    background-color: var(--background-start); 
    padding: 12px; 
    border-radius: 8px; 
    text-align: left;
    display: flex;
    align-items: center;
    gap: 8px;
}
.macro-item i {
    color: var(--accent-color);
    width: 18px;
    height: 18px;
}
.macro-item-text .label { font-size: 0.8rem; color: var(--subtle-text-color); margin-bottom: 0; }
.macro-item-text .value { font-size: 1rem; font-weight: 600; }
.portion-input-group { display: flex; align-items: center; justify-content: center; gap: 8px; margin: 20px 0; }
.portion-input-group input, .portion-input-group select { 
    width: 80px; 
    padding: 10px; 
    border-radius: 8px; 
    border: 1px solid var(--border-color); 
    text-align: center; 
    font-size: 1rem; 
    font-family: var(--font-family);
    background: var(--card-background);
}
.add-item-btn { 
    width: 100%; 
    padding: 12px; 
    border: none; 
    border-radius: 8px; 
    background-color: var(--secondary-color); 
    color: white; 
    font-weight: 600; 
    cursor: pointer;
    transition: background-color 0.2s, transform 0.2s; 
    margin-top: 12px; 
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}
.add-item-btn:hover { background-color: #059669; transform: scale(1.02); }

.loader { width: 48px; height: 48px; border: 5px solid var(--primary-color); border-bottom-color: transparent; border-radius: 50%; display: block; margin: 20px auto; animation: rotation 1s linear infinite; }
@keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* Refine Section */
.refine-section { margin-top: 20px; border-top: 1px solid var(--border-color); padding-top: 16px; }
.refine-btn { width: 100%; display: flex; align-items: center; justify-content: center; gap: 8px; padding: 12px; border: 1px solid var(--secondary-color); color: var(--secondary-color); background-color: transparent; border-radius: 8px; font-weight: 500; cursor: pointer; transition: all 0.2s; }
.refine-btn:hover { background-color: var(--secondary-color); color: white; }
.refine-input-area { margin-top: 12px; display: flex; flex-direction: column; gap: 10px; }
.refine-input-area textarea { width: 100%; min-height: 60px; padding: 10px; border-radius: 8px; border: 1px solid var(--border-color); font-family: var(--font-family); font-size: 1rem; }
.refine-submit-btn { padding: 12px; border: none; border-radius: 8px; background-color: var(--secondary-color); color: white; font-weight: 500; cursor: pointer; transition: background-color 0.2s; }
.refine-submit-btn:hover { background-color: #059669; }
.cancel-btn { background-color: var(--border-color); color: var(--text-color); padding: 12px; border: none; border-radius: 8px; font-weight: 500; cursor: pointer; transition: background-color 0.2s; }
.cancel-btn:hover { background-color: #d1d5db; }

/* Meal List (UPDATED) */
.meal-list { list-style: none; padding: 16px 0 0; margin: 0; }
.meal-list li { padding: 12px 0; border-bottom: 1px solid var(--border-color); }
.meal-list li:last-child { border-bottom: none; }
.meal-item-view { display: flex; justify-content: space-between; align-items: center; }
.meal-item-info { flex-grow: 1; cursor: pointer; }
.meal-item-name { font-weight: 500; text-transform: capitalize; }
.meal-item-details { font-size: 0.875rem; color: var(--subtle-text-color); }
.meal-item-actions { display: flex; align-items: center; gap: 8px; }
.meal-item-calories { font-weight: 600; }
.meal-item-delete { background: none; border: none; color: var(--subtle-text-color); cursor: pointer; padding: 4px; transition: color 0.2s; }
.meal-item-delete:hover { color: var(--danger-color); }
.edit-dropdown { padding-top: 12px; display: flex; gap: 8px; align-items: center; }
.edit-dropdown input, .edit-dropdown select { padding: 8px; border-radius: 6px; border: 1px solid var(--border-color); font-family: var(--font-family); }
.edit-delete-btn {
    background: none;
    border: none;
    color: var(--danger-color);
    cursor: pointer;
    padding: 6px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s, color 0.2s;
}
.edit-delete-btn:hover {
    background: #fee2e2;
    color: #b91c1c;
}
.edit-delete-btn i {
    width: 20px;
    height: 20px;
    stroke-width: 2.2px;
}

/* Footer */
.footer { background-color: transparent; color: var(--subtle-text-color); padding: 2rem 0; text-align: center; }
.footer .container { display: flex; flex-direction: column; gap: 1rem; }
.footer-links a { color: var(--subtle-text-color); text-decoration: none; margin: 0 0.75rem; transition: color 0.2s; }
.footer-links a:hover { color: var(--primary-color); }

/* Modal Styles (UPDATED) */
.modal-overlay { 
    position: fixed; 
    top: 0; left: 0; 
    width: 100%; height: 100%; 
    background-color: rgba(0,0,0,0.5); 
    display: flex; 
    justify-content: center; 
    align-items: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s, visibility 0.3s;
}
.modal-overlay:not(.hidden) {
    opacity: 1;
    visibility: visible;
}
.modal-content { 
    background: white; 
    padding: 24px; 
    border-radius: 16px; 
    width: 90%; 
    max-width: 500px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    transform: scale(0.95);
    transition: transform 0.3s;
    position: relative;
     display: flex;          /* Use flexbox for better layout control */
    flex-direction: column; /* Stack children (title, content) vertically */
    max-height: 85vh; 
}
.modal-overlay:not(.hidden) .modal-content {
    transform: scale(1);
}
.modal-close-btn {
    position: absolute;
    top: 12px;
    right: 12px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 8px;
    border-radius: 50%;
    color: var(--subtle-text-color);
    transition: background-color 0.2s, color 0.2s;
}
.modal-close-btn:hover {
    background-color: var(--border-color);
    color: var(--text-color);
}
/* ðŸŽ¨ style.css (add this new rule) */

#meal-entry-content {
    overflow-y: auto;  /* Add a vertical scrollbar ONLY when the content is too tall */
    padding-right: 12px; /* Add some space so the content doesn't sit under the scrollbar */
    margin-right: -12px; /* A little trick to keep the content visually centered */
}

.modal-content h3 { margin: 0 0 20px; text-align: center; font-size: 1.5rem; }
.modal-content .input-group { display: flex; flex-direction: column; gap: 8px; margin-bottom: 20px; }
.modal-content .input-group label { font-weight: 500; }
.modal-content .input-group input { width: 100%; font-size: 1rem; padding: 12px; border-radius: 8px; border: 1px solid var(--border-color); }
.modal-actions { display: flex; gap: 12px; justify-content: flex-end; margin-top: 1rem;}

/* ðŸŽ¨ style.css (add this new code) */

/* ðŸŽ¨ style.css (replace existing .add-meal-item-btn rules) */

.add-meal-item-btn {
    background: none; /* No background color */
    border: 1px solid var(--primary-color); /* A thin border */
    color: var(--primary-color); /* Primary color text */
    font-weight: 500;
    font-size: 0.85rem;
    padding: 4px 10px;
    border-radius: 8px; /* Slightly rounded corners */
    cursor: pointer;
    transition: background-color 0.2s, color 0.2s;
    margin-left: 8px; /* Space it out from calories */
}

.add-meal-item-btn:hover {
    background-color: var(--primary-color); /* Fill with color on hover */
    color: white; /* White text on hover */
}

/* You can remove the .add-meal-item-btn i rule as it's no longer needed */
/* .add-meal-item-btn i {
    width: 20px;
    height: 20px;
} */
/* Responsive Design */
@media (max-width: 768px) {
    h2 { font-size: 1.75rem; }
    .progress-grid { grid-template-columns: 1fr; }
    .nav-links .btn span { display: none; }
    .nav-links .btn i { margin-right: 0; }
}
/* ðŸŽ¨ style.css (add this new code) */

/* --- Style for the new Back Button in the Modal --- */
.styled-back-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin-top: 16px; /* Space above the button */
    padding: 10px 20px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    background-color: var(--card-background);
    color: var(--subtle-text-color); /* Makes it less prominent */
    font-weight: 500;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.styled-back-btn:hover {
    background-color: #f1f5f9; /* Slight hover effect */
    color: var(--text-color);
    border-color: #d1d5db;
}


/* Rest of your CSS continues below... */